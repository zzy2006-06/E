# PID基本原理 #
![PID简介](img/PID简介.png)  
闭环：控制器输出值给被控对象，同时获取被控对象的反馈，控制器知道被控对象的执行状态，可以根据反馈修改输出值以优化控制  
开环：控制器单向输出值给被控对象，不获取被控对象的反馈，控制器对被控对象的执行状态不清楚。   
PID公式
![PID公式](img/PID公式.png)   
根据第二个PID输出值公式:   
(第一项P)比例项：比例项的作用是根据误差的大小来调整输出值，以减小误差。当误差增大时，比例项的输出值也会增大，以加快系统的响应速度。当误差减小时，比例项的输出值也会减小，以减小系统的响应速度。   
![比例项](img/比例项.png)   
(第二项I)积分项：积分项的作用是根据误差的累积来调整输出值，以消除稳态误差。当误差累积时，积分项的输出值也会增大，以加快系统的响应速度。当误差减小时，积分项的输出值也会减小，以减小系统的响应速度。 
![积分项](img/积分项.png)  
(第三项D)微分项：微分项的作用是根据误差的变化率来调整输出值，以减小误差的变化率。当误差的变化率增大时，微分项的输出值也会增大，以加快系统的响应速度。当误差的变化率减小时，微分项的输出值也会减小，以减小系统的响应速度。   
![微分项](img/微分项.png)  
稳态误差   
![稳态误差](img/稳态误差.png)   
连续形式PID与离散形式PID公式   
连续形式PID公式在单片机中不易实现，因此要将其离散化   
![连续形式PID与离散形式PID](img/连续形式PID与离散形式PID.png)   
位置式PID与增量式PID公式   
位置式PID是连续式PID直接离散得到的最直接最通用的公式   
![位置式PID与增量式PID](img/位置式PID与增量式PID.png)   
位置式PID与增量式PID的比较   
![位置式PID与增量式PID的比较](img/位置式PID与增量式PID的比较.png)   
PID程序实现  
![PID程序实现](img/PID程序实现.png)   
位置式PID程序实现   
![位置式PID程序实现](img/位置式PID程序实现.png)   
增量式PID程序实现   
![增量式PID程序实现](img/增量式PID程序实现.png)   
# PID算法改进 #   
![PID算法发改进](img/PID算法改进.png)   
## 积分项 ##  
积分限幅   
![积分限幅](img/积分限幅.png)   
积分限幅程序实现   
![积分限幅程序实现](img/积分限幅程序实现.png)  
积分分离     
![积分分离](img/积分分离.png)   
积分分离程序实现   
![积分分离程序实现](img/积分分离程序实现.png)   
变速积分   
![变速积分](img/变速积分.png)
变速积分框图解释  
![变速积分框图](img/变速积分框图.png)   
变速积分程序实现
![变速积分程序实现](img/变速积分程序实现.png)  
## 微分项 ##  
不加微分先行时，目标值跳变初期D项相当于推动P项使实际值对目标值跟踪更迅速。（相当于此时D项并不起阻尼作用，反而推动了实际值的改变）  
微分先行  
![微分先行](img/微分先行.png)   
微分先行程序实现
![微分先行程序实现](img/微分先行程序实现.png)  
不完全微分   
![不完全微分](img/不完全微分.png)   
不完全微分程序实现
![不完全微分程序实现](img/不完全微分程序实现.png)   
## 输入输出 ##   
输出偏移  
![输出偏移](img/输出偏移.png)  
输出偏移程序实现  
![输出偏移程序实现](img/输出偏移程序实现.png)  
输入死区  
![输入死区](img/输入死区.png)  
输入死区程序实现
![输入死区程序实现](img/输入死区程序实现.png)    
## 多环串级PID ##    
多环串级PID   
![多环串级PID](img/多环串级PID.png)     
定位置控制单环与双环比较   
![定位置控制单环与双环比较](img/定位置控制单环与双环比较.png)     
双环PID程序实现   
![双环PID程序实现](img/双环PID程序实现.png)    
# PID数学建模 #    
反应控制系统控制的关键指标（稳，准，快）    
![控制系统的关键指标](img/控制系统的关键指标.png)
对电机定速进行建模的步骤   
## 电机的电学方程     
电机的电学方程   
![电机的电学方程](img/电机的电学方程.png)     
## 电机的机械方程   
整定电机带动轮胎转动机械方程的前提   
刚体转动的基本原理     
![刚体转动](img/刚体转动.png)    
T = Ft * r(Ft为切向力，r为半径)T相当于平动中的F     
J = m * r^2     
推导后轮胎转动惯量为J = 1/2 * m * (R1^2 + R2^2)    
推导过程   
![推导过程](img/推导过程.png)    
## 拉普拉斯变换   
拉氏变换规则    
![拉氏变换规则](img/拉氏变换规则.png)     
电学方程的拉普拉斯变换   
![电学方程的拉普拉斯变换](img/电学方程的拉普拉斯变换.png)   
机械方程的拉普拉斯变换   
![机械方程的拉普拉斯变换](img/机械方程的拉普拉斯变换.png)   
## 结构图化简   
将上述拉普拉斯变换后得到的电学与机械方程通过系统结构框图进行化简，得到传递函数   
传递函数等于输出与输入的拉氏变换之比，它反应了系统本身的特性    
电机参数测量   
